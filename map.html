<!DOCTYPE html>
<html>
<head>
    <title>Optimized Globe</title>
    <script src="https://unpkg.com/globe.gl"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        #globe {
            width: 100%;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="globe"></div>
    <script>
        // 数据：每个城市名称及其正确的经纬度
        const cities = [
            { name: "Beijing", lat: 39.9042, lon: 116.4074 },
            { name: "Shanghai", lat: 31.2304, lon: 121.4737 },
            { name: "Chengdu", lat: 30.5728, lon: 104.0668 },
            { name: "Guangyuan", lat: 32.4355, lon: 105.8436 },
            { name: "Longnan", lat: 33.3948, lon: 104.9294 },
            { name: "Lanzhou", lat: 36.0611, lon: 103.8343 },
            { name: "Dali", lat: 25.5847, lon: 100.2127 },
            { name: "Lijiang", lat: 26.8721, lon: 100.2383 },
            { name: "Xishuangbanna", lat: 21.9706, lon: 100.8563 },
            { name: "Shenzhen", lat: 22.5431, lon: 114.0579 },
            { name: "Fukuoka", lat: 33.5902, lon: 130.4017 },
            { name: "Kagoshima", lat: 31.5966, lon: 130.5571 },
            { name: "Kumamoto", lat: 32.8031, lon: 130.7079 },
            { name: "Hiroshima", lat: 34.3853, lon: 132.4553 },
            { name: "Kitakyushu", lat: 33.8338, lon: 130.8731 },
            { name: "Oita", lat: 33.2382, lon: 131.6126 },
            { name: "Nagasaki", lat: 32.7503, lon: 129.8777 },
            { name: "Osaka", lat: 34.6937, lon: 135.5023 },
            { name: "Kyoto", lat: 35.0116, lon: 135.7681 },
            { name: "Tokyo", lat: 35.6895, lon: 139.6917 },
            { name: "Yokohama", lat: 35.4437, lon: 139.6380 }
        ];

        // 初始化 Globe.gl
        const globe = Globe()(document.getElementById('globe'))
            .globeImageUrl('//unpkg.com/three-globe/example/img/earth-light.jpg') 
            .labelsData(cities) // 标签数据
            .labelLat(d => d.lat)
            .labelLng(d => d.lon)
            .labelText(d => d.name)
            .labelSize(0.6) // 缩小标签大小
            .labelDotRadius(0.3)
            .labelColor(() => 'white')
            .labelAltitude(d => 0.01 + (d.lat / 90)) // 标签分层
            .pointsData(cities) // 点标记
            .pointLat(d => d.lat)
            .pointLng(d => d.lon)
            .pointRadius(0.15)
            .pointColor(() => 'orange')
            .pointAltitude(0.01);

        // 启用缩放
        globe.controls().enableZoom = true;
        globe.controls().minZoom = 1;
        globe.controls().maxZoom = 5;
    </script>
</body>
</html>
