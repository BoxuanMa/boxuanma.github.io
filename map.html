<!DOCTYPE html>
<html>
<head>
    <title>Visited Cities Globe</title>
    <script src="https://unpkg.com/globe.gl"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        #globe {
            width: 100%;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="globe"></div>
    <script>
        // 数据：您去过的城市及其坐标
        const cities = [
            { name: "Beijing", lat: 39.9042, lon: 116.4074, date: "2023-03-10" },
            { name: "Tokyo", lat: 35.6895, lon: 139.6917, date: "2023-05-22" },
            { name: "Paris", lat: 48.8566, lon: 2.3522, date: "2023-08-14" },
            { name: "New York", lat: 40.7128, lon: -74.0060, date: "2023-09-01" },
            { name: "Sydney", lat: -33.8688, lon: 151.2093, date: "2023-11-20" }
        ];

        // 飞行路线数据
        const arcs = cities.map((city, index) => {
            if (index < cities.length - 1) {
                return {
                    startLat: city.lat,
                    startLng: city.lon,
                    endLat: cities[index + 1].lat,
                    endLng: cities[index + 1].lon,
                    color: ['red', 'yellow']
                };
            }
            return null;
        }).filter(arc => arc !== null);

        // 初始化 Globe.gl
        const globe = Globe()(document.getElementById('globe'))
            .globeImageUrl('//unpkg.com/three-globe/example/img/earth-dark.jpg') // 地球样式
            .arcsData(arcs)
            .arcColor('color')
            .arcDashLength(0.4)
            .arcDashGap(1)
            .arcDashInitialGap(() => Math.random())
            .arcDashAnimateTime(4000) // 动画时间
            .labelsData(cities)
            .labelLat(d => d.lat)
            .labelLng(d => d.lon)
            .labelText(d => `${d.name} (${d.date})`)
            .labelSize(0.8)
            .labelDotRadius(0.5)
            .labelColor(() => 'white')
            .labelResolution(2)
            .labelAltitude(0.01) // 提升标签高度
            .pointsData(cities)
            .pointLat(d => d.lat)
            .pointLng(d => d.lon)
            .pointRadius(0.2)
            .pointColor(() => 'orange')
            .pointAltitude(0.01); // 点的高度

        // 旋转地球以便展示
        globe.controls().autoRotate = true;
        globe.controls().autoRotateSpeed = 0.5;
    </script>
</body>
</html>
